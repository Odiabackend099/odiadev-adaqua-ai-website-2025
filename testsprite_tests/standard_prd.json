{
  "meta": {
    "project": "ODIADEV Website + Adaqua AI Conversational Widget",
    "date": "2025-09-05",
    "prepared_by": "ODIADEV Product Team"
  },
  "product_overview": "Adaqua AI is a conversational AI assistant embedded in the ODIADEV marketing website, providing Nigerian-accented voice and text chat to engage prospects and developers with a secure, mobile-friendly, and SEO-optimized experience.",
  "core_goals": [
    "Launch the ODIADEV marketing site with embedded Adaqua AI chat widget.",
    "Provide text chat by default with opt-in voice mode featuring Nigerian personas.",
    "Secure TTS calls via Supabase Edge Functions proxy without exposing secrets.",
    "Connect frontend to Render agent brain API for intelligent AI responses.",
    "Ensure SEO optimization, mobile-first responsive design, and fast performance on Nigerian networks.",
    "Implement basic analytics, operational logs, and rate-limiting for TTS usage."
  ],
  "key_features": [
    "Responsive marketing website with sections: Hero, What we do, Adaqua AI demo, Use-cases, Leadership, Contact, Footer.",
    "Adaqua AI chat widget supporting text and optional voice modes with four Nigerian personas (Ezinne, Lexi, ODIA, Atlas).",
    "Persona selection and voice toggle controls with character-limited input and audio player.",
    "Secure Supabase Edge Function proxy for TTS requests with rate limiting and no raw text logging.",
    "Integration with Render hosted AI Brain for chat replies with retry and timeout logic.",
    "SEO artifacts including robots.txt, sitemap.xml, meta tags, Open Graph, and JSON-LD for organization and product.",
    "Accessibility features including keyboard navigation, ARIA labels, and AA color contrast compliance.",
    "Analytics events without PII to track page views, chat usage, voice toggles, and TTS metrics."
  ],
  "user_flow_summary": [
    "User visits the ODIADEV site and views the marketing content and Adaqua AI demo section.",
    "User interacts with the chat widget by typing messages in text mode or optionally enabling voice mode to receive spoken replies.",
    "User selects a Nigerian persona from the dropdown to customize the assistant voice for TTS playback.",
    "Chat widget sends user text to Render brain API; receives AI text reply.",
    "If voice mode is enabled, widget requests audio stream via Supabase Edge TTS function securely, and plays audio after user gesture.",
    "Error states handled gracefully with toasts and retry logic; widget fallback to text-only if TTS audio fails.",
    "User can switch personas or toggle voice mode seamlessly, with UI updates reflecting changes."
  ],
  "validation_criteria": [
    "Widget and website fully build and deployed, supporting text and voice chat modes.",
    "No secrets exposed in frontend; TTS proxy enforces rate limiting and CORS restrictions.",
    "SEO artifacts validated and pages indexed by search engines within specified time.",
    "Performance goals met: P95 time-to-first-audio ≤4s on 4G, ≤7s on 3G; LCP ≤2.5s for Nigerian users.",
    "Analytics events captured accurately without logging PII; voice opt-in rate ≥25%.",
    "Cross-browser compatibility on Chrome, Edge, Safari (iOS 16+), and Android Chrome on low-end devices.",
    "Security tested: no API key leakage, CORS and CSP enforced, permission prompts shown correctly.",
    "Successful unit, integration, and end-to-end tests executed as outlined, covering happy path and failure scenarios."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "React",
      "Vite",
      "Express.js",
      "Tailwind CSS",
      "Supabase Edge Functions",
      "Node.js",
      "Deno"
    ],
    "features": [
      {
        "name": "Adaqua AI Chat Widget",
        "description": "Conversational AI assistant with text and voice modes, supporting 4 Nigerian personas",
        "files": [
          "src/components/ChatWidget.tsx",
          "src/components/PersonaSelect.tsx",
          "src/lib/tts.ts",
          "src/lib/retry.ts"
        ]
      },
      {
        "name": "Voice AI System",
        "description": "Text-to-speech with 4 Nigerian personas (Ezinne, Lexi, ODIA, Atlas) and voice toggle functionality",
        "files": [
          "src/lib/tts.ts",
          "supabase/functions/tts/index.ts",
          "supabase/functions/tts/import_map.json"
        ]
      },
      {
        "name": "AI Brain Server",
        "description": "Express.js server providing intelligent responses for the chat widget",
        "files": [
          "server/brain.js"
        ]
      },
      {
        "name": "Frontend Application",
        "description": "React-based frontend with ODIADEV branding and responsive design",
        "files": [
          "src/App.tsx",
          "src/main.tsx",
          "src/styles.css",
          "public/index.html"
        ]
      },
      {
        "name": "Data Management",
        "description": "Team data, SEO metadata, and image configuration",
        "files": [
          "src/data/team.json",
          "src/data/seo.json",
          "src/data/images.json"
        ]
      },
      {
        "name": "Testing Suite",
        "description": "Unit tests and smoke tests for functionality validation",
        "files": [
          "src/lib/tts.test.ts",
          "scripts/smoke-chat.mjs"
        ]
      },
      {
        "name": "Build Configuration",
        "description": "Vite, TypeScript, and Tailwind CSS configuration",
        "files": [
          "vite.config.ts",
          "tsconfig.json",
          "tsconfig.node.json",
          "tailwind.config.js",
          "postcss.config.js"
        ]
      },
      {
        "name": "Deployment Configuration",
        "description": "Render.com deployment configuration and environment setup",
        "files": [
          "render.yaml",
          ".env.example",
          "package.json"
        ]
      },
      {
        "name": "SEO Optimization",
        "description": "Search engine optimization with sitemap and robots.txt",
        "files": [
          "public/robots.txt",
          "public/sitemap.xml"
        ]
      }
    ]
  }
}
